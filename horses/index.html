<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
</body>
</html>
<script>
// Создать конструктор Horse, который принимает имя лошади и создает объект со следующими свойствами и методами:
// // Свойства:
// // -имя лошади (name)
// // -пробег (mileage)
// // ОБЩЕЕ СВОЙСТВО - ОБЩИЙ ПРОБЕГ (totalMileage)
// // Методы:
// //   -функция бежать (run), которая принимает расстояние, как параметр функции, и увеличивает на это расстояние пробег
// // Создать двух лошадей и протестировать


// Модифицируйте конструктор Horse следующим образом: добавьте свойство - усталость.
// Каждые 1 км пробега добавляет 1 единицу усталости. Когда усталость достигает 10 - лошадь должна отдохнуть 1 секунду. Реализуйте это в методе  - отдых, который принимает как параметр функции, метод  - который должен выполнятся после отдыха и параметры этого метода. Задача метода выводить сообщение “Лошадь отдыхает”. Задержку в 1 секунду реализуйте с помощью функции SetTimeout. После чего должна обнуляться усталость и  выполнятся метод, который пришел как параметр функции.
// Например: лошадь должна пробежать 8 км. На текущий момент усталость составляет 4 единицы. Когда лошадь пробежит 6 км - усталость достигнет 10 единиц. На этом моменте лошадь должна отдохнуть 1 секунду. Усталость при этом обнулится. И после отдыха лошадь должна добежать оставшиеся 2 км.

function Horse (name) {
  this.name = name;
  this.mileage = 0;
  this.tired = 0;
  this.run = function (length) {
    this.mileage += length;
    this.constructor.prototype.total += length;
    this.rest(this.mileage);
    return this.mileage;
  };
  this.rest = function (mileage) {
    for (var i = 1; i <= mileage; i++){
      this.tired++;
      if (this.tired == 10) {
        setTimeout(function(){
          console.log('We will rest')
        }, 1000)
        this.tired = 0;
      }
    } return this.tired;
  };
}
  
Horse.prototype = {
  total: 0,
    constructor: Horse
  }

var h1 = new Horse ('Pony');
h1.run(22);

console.log (h1);
console.log (h1.total);

// var h2 = new Horse ('Mony');
// h2.run(20);
// console.log (h2);
// console.log (h2.total);

</script>




